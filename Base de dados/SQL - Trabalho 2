CREATE table bola(
    id_bola INT AUTO_INCREMENT,
    id_equipa INT,
    fabricante Varchar(50) NOT NULL,
    PRIMARY KEY (id_bola)
    );

CREATE TABLE equipa(
    id_equipa INT AUTO_INCREMENT,
    nome varchar(50) NOT NULL,
    cidade VARCHAR(50),
    diretor VARCHAR (50)
    PRIMARY KEY (id_equipa)
    );
    
    CREATE TABLE experiencia(
        id_experiencia INT AUTO_INCREMENT,
        id_equipa INT,
        id_treinador INT,
        id_escalao INT,
        anos INT DEFAULT 0,
        PRIMARY KEY (id_experiencia)
);

CREATE table treinador(
    id_treinador INT AUTO_INCREMENT,
    nome VARCHAR(50) NOT NULL,
    idade INT,
    telefone INT,
    PRIMARY KEY (id_treinador)

);

CREATE table escalao(
    id_escalao INT AUTO_INCREMENT,
    descricao VARCHAR(50) NOT NULL,
    PRIMARY KEY (id_escalao)
);


ALTER TABLE bola
ADD FOREIGN KEY (id_equipa) REFERENCES equipa(id_equipa);

ALTER TABLE experiencia
ADD FOREIGN KEY (id_equipa) REFERENCES equipa(id_equipa),
ADD FOREIGN KEY(id_treinador) REFERENCES treinador(id_treinador),
ADD FOREIGN KEY (id_escalao) REFERENCES escalao(id_escalao);


/*3. Inserir os registos apresentados em cada uma das tabelas criadas.*/

INSERT INTO treinador (nome, idade, telefone)
VALUES
('António', 34, 922424561),
('Barbosa', 45, 965552936),
('Tavares', 48, 933332267),
('Joaquim', 57, 918638465),
('Alberto', 33, 966785309),
('Duarte', 54, 912773446);

INSERT INTO equipa (nome, cidade, diretor)
VALUES
('Académico', 'Porto', 'Mário'),
('Universitário', 'Coimbra', 'João'),
('Juventude', 'Braga', 'Silva'),
('Tigres', 'Espinho', 'Cardoso');

INSERT INTO bola (id_equipa, fabricante)
VALUES
(1, 'Adidas'),
(1, 'Reebok'),
(1, 'Adidas'),
(2, 'Adidas'),
(2, 'Olimpic'),
(2, 'Nike'),
(3, 'Reebok'),
(3, 'Olimpic');

INSERT INTO experiencia (id_equipa, id_treinador, id_escalao, anos)
VALUES
(1, 1, 3, 10),
(1, 1, 4, 5),
(1, 2, 1, 2),
(1, 2, 3, 3),
(1, 2, 2, 4),
(2, 3, 3, 15),
(4, 5, 2, 12);

INSERT INTO escalao (descricao)
VALUES
('iniciados'),
('juvenis'),
('juniores'),
('seniores');


/*4. Crie views para as seguintes consultas, nomeando cada como ‘Ex_<letra do exercício>’ (exemplo: Ex_a):*/

-- a. Mostrar o id, o nome e a idade dos treinadores com menos de 40 anos de idade; ~

-- b. Mostrar todos os dados da tabela Experiencias relativos aos treinadores que treinaram juniores ou que
-- tenham mais do que 10 anos de experiência;


-- c. Mostrar todos os dados dos treinadores com idade pertencente ao intervalo [45, 53] e por ordem
-- decrescente da idade;


-- d. Mostrar todos os dados dos treinadores cujo nome começa pela letra A.

-- e. Mostrar o número total de equipas no campeonato e chamar a essa agregação ‘Total de Equipas’.

-- f. Mostrar o total de treinadores com idade superior a 40 anos e calcular a média desse agrupamento;


-- g. Mostrar a idade do treinador mais velho.


-- h. Mostrar o id das equipas que utilizam bolas do fabricante Adidas;

-- i. Mostrar o resultado da alínea anterior, mas sem repetições;


-- j. Mostrar a media das idades dos treinadores de juvenis;


-- k. Mostrar os nomes e os telefones dos treinadores e os nomes das equipas por eles treinadas;


-- l. Mostrar todos os dados da equipa do Académico e o nome dos respetivos treinadores;


-- m. Mostrar a idade do treinador mais velho do Académico;


-- n. Mostrar o total de anos de experiência do treinador António do Académico. 


